<!DOCTYPE html>
<html>
<head>
	<link rel="shortcut icon" type="image/png" href="img/favicon.png"/>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/script.js"></script>
	<script src="assets/js/sal.js"></script>
	<script src="assets/js/mustache.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/notify.min.js"></script>
	<title>ISD Library | Edit User</title>
</head>
<body>
	<nav id="navbar"></nav>
	<div id="userprofile" class="container contain jumbotron">
		<script id="userprofile2" type="text/template mustache/x-tmpl">
			<form class="col-sm-6 col-md-offset-3 form-user">
				<div class="form-group">
					<label for="username" col-form-label">User Name</label>
					<div class="col-10">
						<input class="form-control" value="{{username}}" type="text" id="username">
					</div>
				</div>
				<div class="form-group">
					<label for="firstname" col-form-label">First Name</label>
					<div class="col-10">
						<input class="form-control" value="{{firstname}}" type="text" id="firstname">
					</div>
				</div>
				<div class="form-group ">
					<label for="lastname" col-form-label">Last Name</label>
					<div class="col-10">
						<input class="form-control" value="{{lastname}}" type="text" id="lastname">
					</div>
				</div>
				<div class="form-group">
					<label for="email" col-form-label">Email</label>
					<div class="col-10">
						<input class="form-control" value="{{email}}" type="text" id="email">
					</div>
				</div>
				<div class="form-group">
					<label for="password" col-form-label">Password</label>
					<div class="col-10">
						<input class="form-control" type="password" id="password" required>
					</div>
				</div>
				<div class="form-group">
					<label for="role">Role</label>
					<select class="form-control" id="role">
						<option value="0">User</option>
						<option {{#s}} selected {{/s}} value="1">Admin</option>
					</select>
				</div>
				<div class="form-group">
					<button onclick='updateUser({{userID}})' id="update-user" type="button" class="form-control btn btn-warning">Update user data!</button>
				</div>
			</form>
		</script>
	</div>
	<footer id="footer"></footer>
	<script>
		$(function(){
			var id = getUrlParameter("id");
			getUserById(id, function(user){
				if(user.role == 1) user.s = true;
				else user.s = false;
				var html = Mustache.to_html($("#userprofile2").html(), user);
				$('#userprofile').html(html);
			});
		});
	</script>
</body>
</html>